{% extends "Base.html" %}
{% load static %}

{% block title %}Login - FoodFinder{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/Login.css' %}">
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/auth/Login.js' %}"></script>
{% endblock %}

{% block content %}
<div class="container login-container">
    <div class="login-card">
        <div class="login-content">
            <div class="login-form">
                <h2 class="mb-4">Welcome Back!</h2>

                <!-- Error/Success container for AJAX feedback -->
                <div id="errorContainer" class="alert alert-danger d-none" role="alert"></div>
                <div id="successContainer" class="alert alert-success d-none" role="alert"></div>

                <div class="social-buttons mb-4">
                    <button class="social-btn google">
                        <i class="fab fa-google"></i>
                        Continue with Google
                    </button>
                    <button class="social-btn facebook">
                        <i class="fab fa-facebook-f"></i>
                        Continue with Facebook
                    </button>
                    <button class="social-btn apple">
                        <i class="fab fa-apple"></i>
                        Continue with Apple
                    </button>
                </div>

                <div class="text-center mb-4">
                    <span class="px-3 text-muted">or</span>
                </div>

                <form method="POST" action="{% url 'Login' %}" id="loginForm">
                    {% csrf_token %}
                    <div class="form-floating mb-3">
                        <input type="email" class="form-control" id="emailInput"
                               name="email" placeholder="name@example.com" required>
                        <label for="emailInput">Email address</label>
                    </div>

                    <div class="form-floating mb-4">
                        <input type="password" class="form-control"
                               id="passwordInput" name="password" placeholder="Password" required>
                        <label for="passwordInput">Password</label>
                    </div>

                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <div class="form-check">
                            <!-- We add name="rememberMe" so server can pick it up -->
                            <input type="checkbox" class="form-check-input" id="rememberMe" name="rememberMe">
                            <label class="form-check-label" for="rememberMe">Remember me</label>
                        </div>
                        <a href="#" class="text-decoration-none forgot-link">Forgot Password?</a>
                    </div>

                    <button type="submit" class="login-btn">
                        Sign In
                    </button>

                    <div class="text-center mt-4">
                        <p class="mb-0">
                            Don't have an account?
                            <a href="{% url 'Signup' %}" style="color: #FF4B2B;"
                              class="text-decoration-none fw-bold">Sign up</a>
                        </p>
                    </div>
                </form>
            </div>

            <div class="login-image">
                <div class="floating-elements">
                    <i class="fas fa-utensils floating-element"></i>
                    <i class="fas fa-hamburger floating-element"></i>
                    <i class="fas fa-pizza-slice floating-element"></i>
                    <i class="fas fa-coffee floating-element"></i>
                </div>
                <div class="welcome-text">
                    <h1>Discover Amazing Food</h1>
                    <p>Join our community of food lovers</p>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
